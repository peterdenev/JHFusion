Object.observe||function(a,b){"use strict";var c=function(a){var c=a.call(a),d=typeof d;return"object"==typeof b.alert?function(b){return c===a.call(b)||!!b&&typeof b.toString==d&&typeof b.valueOf==d&&/^\s*\bfunction\b/.test(""+b)}:function(b){return c===a.call(b)}}(a.prototype.toString),e=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName},f=function(){return!!b.setImmediate}(),g=function(){return f?function(a){return setImmediate(a)}:function(a){return setTimeout(a,10)}}(),h=function(){return f?function(a){clearImmediate(a)}:function(a){clearTimeout(a)}}(),i=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},j=function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b},k=function(a){return"undefined"==typeof a?!1:"get"in a||"set"in a},m=function(a,b,d){if("object"!=typeof a)throw new TypeError("Object.observeObject called on non-object");if(c(b)===!1)throw new TypeError("Object.observeObject: Expecting function");if(Object.isFrozen(b)===!0)throw new TypeError("Object.observeObject: Expecting unfrozen function");if(void 0!==d&&!Array.isArray(d))throw new TypeError("Object.observeObject: Expecting acceptList in the form of an array")},n=function w(){var a=[],w=function(b,c,d){m(b,c,d),d||(d=["add","update","delete","reconfigure","setPrototype","preventExtensions"]),Object.getNotifier(b).addListener(c,d),-1===a.indexOf(b)?a.push(b):Object.getNotifier(b)._checkPropertyListing()};w.prototype.deliverChangeRecords=function(a){Object.getNotifier(a).deliverChangeRecords()},a.lastScanned=0;var b=function(a){return function b(){var c=0,d=a.length,e=new Date,f=!1;for(c=a.lastScanned;d>c&&!f;c++)q.indexOf(a[c])>-1?(Object.getNotifier(a[c])._checkPropertyListing(),f=new Date-e>100):(a.splice(c,1),c--,d--);a.lastScanned=d>c?c:0,g(b)}}(a);return g(b),w}(),o=function(a){var b=[],c=[],d=[],e=!1,f=[],l=[],m=this;Object.defineProperty(m,"_watching",{enumerable:!0,get:function(a){return function(){return a}}(a)});var n=function(a,b){var d=(typeof a[b],Object.getOwnPropertyDescriptor(a,b));if("getNotifier"===b||k(d)||!d.enumerable)return!1;if(a instanceof Array&&i(b)){var e=f.length;return f[e]=b,l[e]=a[b],!0}return function(b,c){f[b]=c,l[b]=a[c],Object.defineProperty(a,c,{get:function(){return l[b]},set:function(d){j(l[b],d)||(Object.getNotifier(a).queueUpdate(a,c,"update",l[b]),l[b]=d)}})}(f.length,b),!0};m._checkPropertyListing=function(a){var k,p,q,r,s,b=m._watching,c=Object.keys(b),d=0,e=c.length,h=f.slice(0),o=!a;for(b instanceof Array&&(s=m._oldLength),d=0;e>d;d++)k=c[d],q=b[k],p=typeof q,-1===(r=f.indexOf(k))?n(b,k)&&o&&m.queueUpdate(b,k,"add",null,b[k]):(b instanceof Array&&!i(k)||l[r]!==q&&(o&&m.queueUpdate(b,k,"update",l[r],q),l[r]=q),h.splice(h.indexOf(k),1));if(b instanceof Array&&b.length!==s&&(o&&m.queueUpdate(b,"length","update",s,b),m._oldLength=b.length),o)for(e=h.length,d=0;e>d;d++)r=f.indexOf(h[d]),m.queueUpdate(b,h[d],"delete",l[r]),f.splice(r,1),l.splice(r,1)},m.addListener=function(a,d){var e=b.indexOf(a);-1===e?(b.push(a),c.push(d)):c[e]=d},m.removeListener=function(a){var d=b.indexOf(a);d>-1&&(b.splice(d,1),c.splice(d,1))},m.listeners=function(){return b},m.queueUpdate=function(a,b,c,d){this.queueUpdates([{type:c,object:a,name:b,oldValue:d}])},m.queueUpdates=function(a){var i,b=this,c=0,f=a.length||0;for(c=0;f>c;c++)i=a[c],d.push(i);e&&h(e),e=g(function(){e=!1,b.deliverChangeRecords()})},m.deliverChangeRecords=function(){var a=0,e=b.length;for(a=0;e>a;a++)if(b[a]){var g;if(c[a]){g=[];for(var h=0,i=d.length;i>h;h++)-1!==c[a].indexOf(d[h].type)&&g.push(d[h])}else g=d;g.length&&(b[a]===console.log?console.log(g):b[a](g))}d=[]},m.notify=function(b){if("object"!=typeof b||"string"!=typeof b.type)throw new TypeError("Invalid changeRecord with non-string 'type' property");b.object=a,m.queueUpdates([b])},m._checkPropertyListing(!0)},p=[],q=[];a.getNotifier=function(a){var b=q.indexOf(a),c=b>-1?p[b]:!1;return c||(b=q.length,q[b]=a,c=p[b]=new o(a)),c},a.observe=function(a,b,c){return e(a)?void 0:new n(a,b,c)},a.unobserve=function(a,b){m(a,b);var c=q.indexOf(a),d=c>-1?p[c]:!1;d&&(d.removeListener(b),0===d.listeners().length&&(q.splice(c,1),p.splice(c,1)))}}(Object,this);